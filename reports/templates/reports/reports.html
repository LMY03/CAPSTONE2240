
{% load static %}

{% block css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'reports/css/styles.css' %}">

<!-- jquery -->
<link rel="stylesheet" type="text/css" href="https://gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/css/dataTables.checkboxes.css"  />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<!-- bootstrap5 -->
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script><script type="text/javascript" src="https://gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/js/dataTables.checkboxes.min.js"></script>

{% endblock css %} 

{% block content %}
<div class="container mt-4">
  <div class="report-section">

    <ul>
      <li><a href="{% url 'reports:system_report' %}">System Report</a></li>
      <li><a href="{% url 'reports:subject_report' %}">Subject Report</a></li>
      <li><a href="{% url 'reports:vm_report' %}">Individual Report</a></li>
    </ul>

      <div class="card-title mb-3">VM Performance Report</div>
      <div class="report-item" data-bs-toggle="collapse" data-bs-target="#summaryReports" aria-expanded="false">
          <span class="chevron">&#8250;</span> Summary Reports
      </div>
      <div class="collapse" id="summaryReports">
        <form method="POST" id="filterForm">
          {% csrf_token %}
          <!-- Conditions -->
          <div class="row g-3">
            <!-- DATE selection -->
            <div class="col-md-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title mb-3">Conditions</h5>
                  <div class="mb-3">
                    <label class="form-label me-2">Data from</label>
                    <input id="dateStart" name="startdate" type="date" class="form-control form-control-sm d-inline-block w-auto me-2">
                    <label class="form-label me-2">to</label>
                    <input id="dateEnd" name="enddate" type="date" class="form-control form-control-sm d-inline-block w-auto">
                  </div>
                </div>
              </div>
            </div>
            <!-- Filter -->
            <div class="mb-3">
              <select name="scope" id="scope" class="form-select w-auto">
                <option value="all">All</option>
                <option value="per-node">per node</option>
                <option value="per-class">per class</option>
              </select>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Generate Summary</button>
        </form>
      </div>
      <div class="report-item" data-bs-toggle="collapse" data-bs-target="#detailedReports" aria-expanded="false">
          <span class="chevron">&#8250;</span> Detailed Reports
      </div>
      <div class="collapse" id="summaryReports">
        <form method="POST" id="filterForm2">
          {% csrf_token %}
          <!-- Conditions -->
          <div class="row g-3">
            <!-- DATE selection -->
            <div class="col-md-6">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title mb-3">Conditions</h5>
                  <div class="mb-3">
                    <label class="form-label me-2">Data from</label>
                    <input id="dateStart" name="startdate" type="date" class="form-control form-control-sm d-inline-block w-auto me-2">
                    <label class="form-label me-2">to</label>
                    <input id="dateEnd" name="enddate" type="date" class="form-control form-control-sm d-inline-block w-auto">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Generate Details</button>
        </form>
      </div>
      <div class="collapse" id="DetailedReports">
      </div>
  </div>

  <div class="report-section">
      <div class="report-title">Ticketing Report</div>
      <div class="report-item" data-bs-toggle="collapse" data-bs-target="#generalReports" aria-expanded="false">
          <span class="chevron">&#8250;</span> General
      </div>
      <div class="collapse" id="generalReports">
          <!-- General Reports form content goes here -->
          <form method="POST" id="general_ticketing_reports_form">
            {% csrf_token %}
            <!-- Conditions -->
            <div class="row g-3">
              <!-- DATE selection -->
              <div class="col-md-6">
                <div class="card h-100">
                  <div class="card-body">
                    <h5 class="card-title mb-3">Conditions</h5>
                    <div class="mb-3">
                      <label class="form-label me-2">Data from</label>
                      <input id="dateStart" name="startdate" type="date" class="form-control form-control-sm d-inline-block w-auto me-2">
                      <label class="form-label me-2">to</label>
                      <input id="dateEnd" name="enddate" type="date" class="form-control form-control-sm d-inline-block w-auto">
                    </div>
                  </div>
                </div>
              </div>
              <!-- Filter -->
              <div class="mb-3">
                <select name="scope" id="scope" class="form-select w-auto">
                  <option value="all">All</option>
                  <option value="per-node">per node</option>
                  <option value="per-class">per class</option>
                </select>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Generate Summary</button>
          </form>
      </div>
  </div>
</div>

{% endblock content %}

{% block script %}
<script src="{% static 'reports/js/report.js' %}"></script>
{% endblock script %}
