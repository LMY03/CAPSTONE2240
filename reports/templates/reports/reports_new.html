{% extends "users/base_tsg.html" %}

{% block title %}
Reports
{% endblock title %}

{% load static %}

{% block css %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.11.3/sorting/natural.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.11.3/sorting/percent.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
<link rel="stylesheet" href="{% static 'users/css/student_home.css' %}">
<link rel="stylesheet" href="{% static 'reports/css/reports.css' %}">
{% endblock css %}


{% block content %}
<div class="col-md-10 content">
    <!-- Filter Conditions -->
    <div class="filter-row">
        <!-- Select Datetime -->
        <div class="filter-card">
            <div class="filter-card-content">
                <div class="date-input">
                    <label class="fw-bolder" for="startDate">Start Date:</label>
                    <input class="form-control" type="datetime-local" id="startDate">
                </div>
                <div class="date-input">
                    <label class="fw-bolder" for="endDate">End Date:</label>
                    <input class="form-control" type="datetime-local" id="endDate">
                </div>
                <div class="filter-button">
                    <button type="button" class="btn btn-sm btn-custom" onclick="show()">Filter</button>
                </div>
            </div>
        </div>

        <div class="filter-card">
            <div class="filter-card-content">
                <div class="radio-group">
                    <div class="radio-row">
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="cpu" onchange="updateChart()">cpu</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="cpu usage" onchange="updateChart()">cpu usage</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="mem" onchange="updateChart()">mem</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="mem usage" onchange="updateChart()">mem usage</label>
                    </div>
                    <div class="radio-row">
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="storage" onchange="updateChart()">storage</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="storage usage" onchange="updateChart()">storage usage</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="netin" onchange="updateChart()">netin</label>
                        <label class="form-check-label"><input class="form-check-input" type="radio" name="metric" value="netout" onchange="updateChart()">netout</label>  
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Graph -->
    <div class="chart-container">
        <button type="button" class="btn btn-sm btn-custom csv-button" onclick="exporeDataChart()">CSV</button>
        <canvas id="myChart"></canvas>
    </div>
    
    <!-- Table -->
    <div class="table-container">
        <table id="VMtable" class="table display responsive" style="width:100%; margin: 1rem auto;">
            <thead>
                <tr>
                </tr>
            </thead>
            <tbody id="vmstatus">
            </tbody>
        </table>
    </div>
</div>
{% endblock content %}
    
{% block script %}
<script src="{% static 'reports/js/reports.js' %}"></script>
{% endblock script %}