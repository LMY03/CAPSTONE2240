{% extends 'users/base_faculty.html' %}

{% block title %}
Ticket Details {{ issue_ticket.pk }}
{% endblock title %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'users/css/student_home.css' %}">
{% endblock css %} 

{% block content %}
        <div class="col-md-10 content mt-3">
            <div class="d-flex justify-content-between align-items-center">
                <h1>Detail View for the Request Ticket</h1>
            </div>
            
            <div class="row g-3">
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Request ID:</strong> {{ issue_ticket.request.pk }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Subject:</strong> {{ issue_ticket.subject }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Description:</strong> {{ issue_ticket.description }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Date Created:</strong> {{ issue_ticket.date_created }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Status:</strong> {{ issue_ticket.get_status }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Resolve Date:</strong> {{ issue_ticket.resolve_date }}</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="p-3 bg-light border">
                        <p><strong>Created By:</strong> {{ issue_ticket.get_requester }}</p>
                    </div>
                </div>
            </div>
            {% if issue_files %}
            <form method="get" action="{% url 'ticketing:download_issue_files' issue_ticket.id %}">
                <button type="submit">Download Attached Files</button>
            </form>
            {% endif %}
        </div>
{% endblock content %}

{% block script %}
{% endblock  %}